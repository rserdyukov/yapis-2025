# Вариант 5

## 1.1 Требования к языку

* Встроенные типы — не менее трёх.
* Инициализация переменных при объявлении:

  ```
  <тип>? <имя_переменной> = <выражение>
  ```
* Инициализирующее выражение может быть константой.
* Встроенные операции — не менее 10 штук.
* Встроенные функции.
* Ввод/вывод для встроенных типов: `read()`, `write()`.
* Поддержка сложных выражений (составных, со скобками).
* Блочный оператор.
* Управляющие структуры:

  * условный оператор `if-then-else`,
  * циклы `while`, `until`,
  * цикл с итерациями `for`.
* Пользовательские подпрограммы.
* Передача и возврат параметров.
* Локальная и глобальная область видимости.

---

## 1.2 Свойства языка

* **Объявление переменных**: явное.
* **Преобразование типов**: явное, например:

  ```
  a = (int) b
  ```
* **Оператор присваивания**: многоцелевой, например:

  ```
  a, b = c, d
  ```
* **Структуры для области видимости**: подпрограммы.
* **Маркер блочного оператора**:

  ```
  { ... } или begin ... end
  ```
* **Условные операторы**: двухвариантный `if-then-else`.
* **Перегрузка подпрограмм**: поддерживается.
* **Передача параметров**: только по значению и через возвращаемое значение.
* **Подпрограммы объявляются** только в начале программы.

---

## 1.3 Вариант языка: работа со строками

### Встроенные типы

* `char`
* `string`
* `array` (массив строк)
* `int`

### Встроенные операции

* `+` — конкатенация:

  ```
  "hi" + "!" → "hi!"
  ```
* `-` — удаление первого вхождения подстроки.
* `*` — повторение строки (длина второго аргумента):

  ```
  "ha" * "333" → "hahaha"  // длина строки "333" = 3
  ```
* `/` — разбиение строки по разделителю:

  ```
  "a,b,c" / "," → ["a","b","c"]
  ```
* `[]` — индексация:

  ```
  "cat"[1] → "a"
  ["a","b"][0] → "a"
  ```
* `==`, `!=` — равенство и неравенство.
* `<`, `>` — лексикографическое сравнение.
* `in` — проверка вхождения:

  ```
  "a" in "cat" → true
  ```
* `len()` — встроенная функция (обязательная).

### Встроенные функции

* `read()` — ввод строки.
* `write(x)` — вывод значения.
* `len(x)` — длина строки/массива.
* `substr(str, from, to)` — извлечение подстроки.
* `replace(str, old, new)` — замена подстроки.
* `split(str, sep)` — разбиение (аналог `/`, но как функция).

### Управляющие структуры

```
if condition then
    ...
else
    ...
end

while (condition) { ... }

until (condition) { ... }

for elem in array { ... }
```

*(`for` работает по массиву строк или по символам строки — без числовых индексов).*

### Пользовательские подпрограммы

* Только функции (возвращают `string`, `char` или `array`).
* Объявляются в начале программы.
* Параметры передаются по значению.

---

## Целевой код

* Байт-код JVM.
* Промежуточное представление: ассемблер для JVM.
