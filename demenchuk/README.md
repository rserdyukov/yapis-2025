# –í–∞—Ä–∏–∞–Ω—Ç - 6

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–º—É —è–∑—ã–∫—É

1. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã ‚Äî –Ω–µ –º–µ–Ω–µ–µ —Ç—Ä—ë—Ö  
2. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏: `<—Ç–∏–ø>? <–∏–º—è_–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π> = <–≤—ã—Ä–∞–∂–µ–Ω–∏–µ>`.  
   1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º.  
3. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –Ω–µ –º–µ–Ω–µ–µ –¥–µ—Å—è—Ç–∏.  
4. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.  
   1. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏: `read()`, `write()`.  
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π (—Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏ —Å–æ —Å–∫–æ–±–∫–∞–º–∏).  
6. –ë–ª–æ—á–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä.  
7. –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.  
   1. –£—Å–ª–æ–≤–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä (`if-then-else`).  
   2. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ü–∏–∫–ª–∞ (`while` –∏ `until`).  
   3. –û–ø–µ—Ä–∞—Ç–æ—Ä —Ü–∏–∫–ª–∞ —Å –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ (`for`).  
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã.  
   1. –ü–µ—Ä–µ–¥–∞—á–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.  
   2. –ó–∞–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –∏–º—ë–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

## –í–∞—Ä–∏–∞–Ω—Ç —Å–≤–æ–π—Å—Ç–≤ —è–∑—ã–∫–∞

1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  
   - –ù–µ—è–≤–Ω–æ–µ  
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤  
   - –Ø–≤–Ω–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `a = (int) b`  
3. –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è  
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, `a, b = c, d`  
4. –°—Ç—Ä—É–∫—Ç—É—Ä—ã, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏  
   - –ü–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã   
5. –ú–∞—Ä–∫–µ—Ä –±–ª–æ—á–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞  
   - –ù–µ—è–≤–Ω—ã–π, –∫–∞–∫ –≤ Python  
6. –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã  
   - –î–≤—É—Ö–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä `if-then-else`  
7. –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º  
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç  
8. –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—É  
   - –ü–æ —Å—Å—ã–ª–∫–µ  
9. –î–æ–ø—É—Å—Ç–∏–º–æ–µ –º–µ—Å—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º:  
   - –í –Ω–∞—á–∞–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã  

## –í–∞—Ä–∏–∞–Ω—Ç —è–∑—ã–∫–∞
 
6. –Ø–∑—ã–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–∏—Å–∫–æ–≤—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏  
    1. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã: `element`, `list`  
    2. –û–ø–µ—Ä–∞—Ü–∏–∏: –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `+`, `-`, `*`, `/` –∏ —Ç.–¥. –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤  
    3. –°–ø–∏—Å–∫–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: –¥–µ—Ä–µ–≤–æ, –æ—á–µ—Ä–µ–¥—å  
    4. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞, —Å–ª–∏—è–Ω–∏–µ  

## –í–∞—Ä–∏–∞–Ω—Ç —Ü–µ–ª–µ–≤–æ–≥–æ –∫–æ–¥–∞
 
5. WAT, —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ WASM

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Windows/Linux/macOS)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd demenchuk

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ANTLR4
# Windows:
pip install antlr4-tools

# macOS:
brew install antlr
# –∏–ª–∏: pip install antlr4-tools

# Linux (Ubuntu/Debian):
sudo apt-get install antlr4
# –∏–ª–∏: pip install antlr4-tools

# 4. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –∏–∑ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏
python scripts/generate_parser.py
```

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º

```bash
# –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å .riv —Ñ–∞–π–ª –≤ WAT
python -m compiler.main examples/correct/01_basic_types.riv

# –£–∫–∞–∑–∞—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª
python -m compiler.main input.riv -o output.wat

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –æ—à–∏–±–∫–∏ (–±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞)
python -m compiler.main input.riv --check

# –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
python -m compiler.main input.riv --debug
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
python scripts/run_all_tests.py

# –û—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
python tests/test_lexer.py
python tests/test_parser.py
python tests/test_semantic.py
python tests/test_compiler.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
demenchuk/
‚îú‚îÄ‚îÄ compiler/                  # –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ RivScript.g4           # ANTLR –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ generated/             # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ANTLR —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ lexer/                 # –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ parser/                # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ semantic/              # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.py           # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ symbol.py          # Symbol –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scope.py           # Scope –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ builtins.py        # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ symbol_table.py    # –¢–∞–±–ª–∏—Ü–∞ —Å–∏–º–≤–æ–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analyzer.py        # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ codegen/               # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä WAT –∫–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ emitter.py         # –í—ã–≤–æ–¥ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wat_builtins.py    # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ WAT —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wat_generator.py   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä WAT
‚îÇ   ‚îú‚îÄ‚îÄ errors/                # –°–∏—Å—Ç–µ–º–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py            # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lexer_errors.py    # –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser_errors.py   # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ semantic_errors.py # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ error_reporter.py  # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ listeners/             # ANTLR listeners
‚îÇ   ‚îî‚îÄ‚îÄ main.py                # CLI —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ examples/                  # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
‚îÇ   ‚îú‚îÄ‚îÄ correct/               # –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (9 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ errors/                # –ü—Ä–∏–º–µ—Ä—ã —Å –æ—à–∏–±–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ lexer/             # –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (7 —Ñ–∞–π–ª–æ–≤)
‚îÇ       ‚îú‚îÄ‚îÄ parser/            # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (13 —Ñ–∞–π–ª–æ–≤)
‚îÇ       ‚îî‚îÄ‚îÄ semantic/          # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (8 —Ñ–∞–π–ª–æ–≤)
‚îÇ
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_lexer.py          # –¢–µ—Å—Ç—ã –ª–µ–∫—Å–µ—Ä–∞ (15 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_parser.py         # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ (22 —Ç–µ—Å—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ test_semantic.py       # –¢–µ—Å—Ç—ã —Å–µ–º–∞–Ω—Ç–∏–∫–∏ (17 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_compiler.py       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (36 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ scripts/                   # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ generate_parser.py     # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ run_all_tests.py       # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ codegen_explanation.md # –ü–æ–¥—Ä–æ–±–Ω–æ –æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ WAT
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

